import{_ as a,o as t,c as o,a as e,b as d,e as i,d as n,r as c}from"./app.a704fd29.js";const r={},l=e("h1",{id:"\u89C6\u56FE\u6E32\u67D3",tabindex:"-1"},[e("a",{class:"header-anchor",href:"#\u89C6\u56FE\u6E32\u67D3","aria-hidden":"true"},"#"),i(" \u89C6\u56FE\u6E32\u67D3")],-1),u=e("p",null,[i("\u5B89\u88C5 "),e("code",null,"@ipare/view"),i(" \u4EE5\u652F\u6301\u89C6\u56FE\u6E32\u67D3\u529F\u80FD\uFF0C\u7528\u4E8E\u6784\u5EFA\u4E00\u4F53\u5316\u5E94\u7528\u7A0B\u5E8F")],-1),v=e("code",null,"@ipare/view",-1),h=i(" \u652F\u6301\u591A\u79CD\u89C6\u56FE\u6A21\u677F\uFF0C\u57FA\u4E8E "),p={href:"https://github.com/tj/consolidate.js",target:"_blank",rel:"noopener noreferrer"},m=i("consolidate"),_=n(`<h2 id="\u5B89\u88C5" tabindex="-1"><a class="header-anchor" href="#\u5B89\u88C5" aria-hidden="true">#</a> \u5B89\u88C5</h2><div class="language-text ext-text line-numbers-mode"><pre class="language-text"><code>npm i @ipare/view
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><h2 id="\u5FEB\u901F\u5F00\u59CB" tabindex="-1"><a class="header-anchor" href="#\u5FEB\u901F\u5F00\u59CB" aria-hidden="true">#</a> \u5FEB\u901F\u5F00\u59CB</h2><ol><li><p>\u6DFB\u52A0\u89C6\u56FE\u6587\u4EF6\u5939\u548C\u6587\u4EF6 <code>views/index.ejs</code> \u5E76\u7F16\u5199\u5185\u5BB9</p></li><li><p>\u542F\u7528\u4E2D\u95F4\u4EF6 <code>startup.useViews()</code></p></li></ol><div class="language-TS ext-TS line-numbers-mode"><pre class="language-TS"><code>import { TestStartup } from &quot;@ipare/core&quot;;
import &quot;@ipare/view&quot;;

const res = await new TestStartup()
  .useViews()
  .use(async (ctx) =&gt; {
    ctx.view(&quot;index.ejs&quot;);
  })
  .run();
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h2 id="useviews" tabindex="-1"><a class="header-anchor" href="#useviews" aria-hidden="true">#</a> <code>useViews</code></h2><p><code>useViews</code> \u63A5\u6536\u4E00\u4E2A\u53EF\u9009\u914D\u7F6E\u53C2\u6570</p><ul><li>dir: \u89C6\u56FE\u6587\u4EF6\u5939</li><li>options: \u901A\u7528\u53C2\u6570\uFF0C\u5982\u7F51\u7AD9\u540D\u79F0\u548C\u5176\u4ED6\u901A\u7528\u4FE1\u606F</li><li>engines: \u89C6\u56FE\u6E32\u67D3\u5F15\u64CE\u5217\u8868</li></ul>`,8),b=e("code",null,"engines",-1),x=i(" \u7528\u4E8E\u6587\u4EF6\u6269\u5C55\u540D\u4E0E "),w={href:"https://github.com/tj/consolidate.js",target:"_blank",rel:"noopener noreferrer"},g=i("consolidate"),f=i(" \u5BF9\u5E94\uFF0C\u5982"),q=n(`<div class="language-TS ext-TS line-numbers-mode"><pre class="language-TS"><code>startup.useViews({
  dir: &quot;views&quot;,
  engines: [
    { ext: &quot;hbs&quot;, render: &quot;handlebars&quot; },
    { ext: &quot;custom&quot;, render: &quot;ejs&quot; },
  ],
});
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>\u5982\u679C\u6269\u5C55\u540D\u4E0E\u6E32\u67D3\u5F15\u64CE\u540D\u79F0\u76F8\u540C\uFF0C\u53EF\u7701\u7565\u914D\u7F6E</p><h3 id="\u89C6\u56FE\u6587\u4EF6\u5939" tabindex="-1"><a class="header-anchor" href="#\u89C6\u56FE\u6587\u4EF6\u5939" aria-hidden="true">#</a> \u89C6\u56FE\u6587\u4EF6\u5939</h3><p>\u9ED8\u8BA4\u4E3A <code>views</code>, \u6240\u6709\u89C6\u56FE\u5C06\u5728\u89C6\u56FE\u6587\u4EF6\u5939\u4E2D\u67E5\u627E</p><h2 id="\u6E32\u67D3\u51FD\u6570-view" tabindex="-1"><a class="header-anchor" href="#\u6E32\u67D3\u51FD\u6570-view" aria-hidden="true">#</a> \u6E32\u67D3\u51FD\u6570 <code>view()</code></h2><p>\u4F60\u53EF\u4EE5\u5728\u4E09\u4E2A\u5730\u65B9\u4F7F\u7528 <code>view()</code> \u51FD\u6570\u6E32\u67D3\u89C6\u56FE</p><ul><li>ctx.view(): \u7BA1\u9053 HttpContext \u7C7B\u5B9E\u4F8B\u65B9\u6CD5</li><li>md.view(): \u4E2D\u95F4\u4EF6\u4E2D\u53EF\u4EE5\u4F7F\u7528 <code>this.view()</code> \u5B9E\u4F8B\u65B9\u6CD5\u6E32\u67D3\u89C6\u56FE</li><li>res.view(): Response \u7C7B\u5B9E\u4F8B\u65B9\u6CD5</li></ul><p><code>view</code> \u51FD\u6570\u63A5\u6536\u4E24\u4E2A\u53C2\u6570</p><ul><li>tmpPath: \u89C6\u56FE\u6587\u4EF6\u5939\u4E2D\u7684\u76F8\u5BF9\u8DEF\u5F84</li><li>locals: \u6E32\u67D3\u53C2\u6570</li></ul><p>\u5176\u4E2D <code>tmpPath</code> \u53EF\u7701\u7565\u6A21\u677F\u6587\u4EF6\u6269\u5C55\u540D\uFF0C\u4E5F\u53EF\u7701\u7565 <code>index</code> \u547D\u540D\u7684\u6587\u4EF6</p><p>\u503C\u4E3A <code>user/todo/index.ejs</code>, <code>user/todo/index</code>, <code>user/todo</code> \u6548\u679C\u76F8\u540C</p><h2 id="ctx-state" tabindex="-1"><a class="header-anchor" href="#ctx-state" aria-hidden="true">#</a> ctx.state</h2><p><code>ctx.state</code> \u4F5C\u4E3A\u8BBF\u95EE\u7EA7\u522B\u7684\u6A21\u677F\u53C2\u6570</p><p>\u6BD4\u5982\u4F60\u9700\u8981\u5728\u6743\u9650\u9A8C\u8BC1\u4E4B\u540E\uFF0C\u5C06\u767B\u5F55\u4FE1\u606F\u653E\u5165 <code>ctx.state</code></p><p>\u5728\u4F60\u4F7F\u7528 <code>view</code> \u6E32\u67D3\u6A21\u677F\u65F6\uFF0C<code>@ipare/views</code> \u505A\u4E86\u4EE5\u4E0B\u7C7B\u4F3C\u64CD\u4F5C\uFF1A</p><div class="language-JS ext-JS line-numbers-mode"><pre class="language-JS"><code>const args = Object.assign({}, options, ctx.state, locals);
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div>`,16);function S(j,T){const s=c("ExternalLinkIcon");return t(),o("div",null,[l,u,e("p",null,[v,h,e("a",p,[m,d(s)])]),_,e("p",null,[b,x,e("a",w,[g,d(s)]),f]),q])}var k=a(r,[["render",S],["__file","view.html.vue"]]);export{k as default};
