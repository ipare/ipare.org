import{_ as e,o as d,c as a,d as i}from"./app.a704fd29.js";const c={},r=i(`<h1 id="\u9759\u6001\u8D44\u6E90" tabindex="-1"><a class="header-anchor" href="#\u9759\u6001\u8D44\u6E90" aria-hidden="true">#</a> \u9759\u6001\u8D44\u6E90</h1><p>\u5B89\u88C5 <code>@ipare/static</code> \u4EE5\u652F\u6301\u9759\u6001\u8D44\u6E90\u529F\u80FD</p><ul><li>\u80FD\u591F\u8FD4\u56DE\u9759\u6001\u8D44\u6E90</li><li>\u80FD\u591F\u5339\u914D\u5355\u4E2A\u6587\u4EF6\u6216\u6574\u4E2A\u6587\u4EF6\u5939</li><li>\u53EF\u4EE5\u6258\u7BA1\u9759\u6001\u7F51\u7AD9</li></ul><h2 id="\u5B89\u88C5" tabindex="-1"><a class="header-anchor" href="#\u5B89\u88C5" aria-hidden="true">#</a> \u5B89\u88C5</h2><div class="language-text ext-text line-numbers-mode"><pre class="language-text"><code>npm i @ipare/static
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><h2 id="\u5FEB\u901F\u5F00\u59CB" tabindex="-1"><a class="header-anchor" href="#\u5FEB\u901F\u5F00\u59CB" aria-hidden="true">#</a> \u5FEB\u901F\u5F00\u59CB</h2><p>\u4F7F\u7528 <code>startup.useStatic()</code></p><div class="language-JS ext-JS line-numbers-mode"><pre class="language-JS"><code>require(&quot;@ipare/static&quot;);
const res = await new TestStartup().useStatic().run();
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div></div></div><p>\u6216</p><div class="language-JS ext-JS line-numbers-mode"><pre class="language-JS"><code>require(&quot;@ipare/static&quot;);
const res = await new OtherStartup().useStatic().run();
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div></div></div><p><code>useStatic</code> \u5982\u679C\u4E0D\u4F20\u4EFB\u4F55\u53C2\u6570\uFF0C\u5C06\u5339\u914D <code>static</code> \u6587\u4EF6\u5939</p><h2 id="\u5339\u914D\u6587\u4EF6\u5939" tabindex="-1"><a class="header-anchor" href="#\u5339\u914D\u6587\u4EF6\u5939" aria-hidden="true">#</a> \u5339\u914D\u6587\u4EF6\u5939</h2><p><code>@ipare/static</code> \u53EF\u4EE5\u5339\u914D\u6574\u4E2A\u6587\u4EF6\u5939\uFF0C\u6309\u6587\u4EF6\u7CFB\u7EDF\u5339\u914D\u6587\u4EF6\uFF0C<code>useStatic</code> \u63A5\u6536\u914D\u7F6E\u53C2\u6570\u5305\u542B\u4EE5\u4E0B\u53C2\u6570</p><h4 id="dir" tabindex="-1"><a class="header-anchor" href="#dir" aria-hidden="true">#</a> dir</h4><p><code>@ipare/static</code> \u4F1A\u5728\u8BE5\u6587\u4EF6\u5939\u4E2D\u6309\u8BBF\u95EE\u8DEF\u5F84\u5339\u914D\u6587\u4EF6</p><p>\u56E0\u6B64\u4F60\u4E5F\u53EF\u4EE5\u9009\u62E9\u4F7F\u7528\u591A\u4E2A <code>dir</code>\u53C2\u6570\u4E0D\u540C\u7684 <code>useStatic</code></p><p>\u5982\u679C\u4E0D\u4F20\u6B64\u53C2\u6570\uFF0C\u9ED8\u8BA4\u503C\u4E3A <code>static</code>\uFF0C\u5373\u9879\u76EE\u4E0B\u7684 <code>static</code> \u6587\u4EF6\u5939</p><h4 id="prefix" tabindex="-1"><a class="header-anchor" href="#prefix" aria-hidden="true">#</a> prefix</h4><p>url \u8BBF\u95EE\u524D\u7F00</p><p>\u6BD4\u5982\u4F60\u5C06\u56FE\u7247\u653E\u5728 <code>static</code> \u6587\u4EF6\u5939\uFF0C\u4F46\u60F3\u7528 <code>file</code> \u524D\u7F00\u6765\u8BBF\u95EE\uFF1A</p><p><code>GET file/1.png</code>, <code>GET file/2.txt</code> \u7B49</p><div class="language-JS ext-JS line-numbers-mode"><pre class="language-JS"><code>const res = await new TestStartup()
  .useStatic({
    dir: &quot;static&quot;,
    prefix: &quot;file&quot;,
  })
  .run();
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h4 id="encoding" tabindex="-1"><a class="header-anchor" href="#encoding" aria-hidden="true">#</a> encoding</h4><p>\u8BFB\u53D6\u6587\u4EF6\u7684\u683C\u5F0F\uFF0C\u6B64\u53C2\u6570\u5C06\u76F4\u63A5\u5F71\u54CD <code>body</code> \u7684\u5185\u5BB9</p><p>\u5982\u5728 http \u4E2D\uFF0C\u8BE5\u503C\u53EF\u4FDD\u6301\u9ED8\u8BA4\uFF0C\u6216\u8BBE\u7F6E\u4E3A <code>binary</code></p><p>\u5728\u4E91\u51FD\u6570\u4E2D\uFF0C\u8BE5\u503C\u5E94\u8BBE\u7F6E\u4E3A base64</p><h4 id="file404" tabindex="-1"><a class="header-anchor" href="#file404" aria-hidden="true">#</a> file404</h4><p><code>@ipare/static</code> \u5982\u679C\u627E\u4E0D\u5230\u5339\u914D\u7684\u9759\u6001\u6587\u4EF6\uFF0C\u4F1A\u6839\u636E\u6B64\u503C\u5BFB\u627E\u6587\u4EF6\uFF1A</p><ul><li>\u672A\u8BBE\u7F6E\uFF0C\u8FDB\u5165\u4E0B\u4E00\u4E2A\u4E2D\u95F4\u4EF6\uFF08\u5982\u679C\u5B58\u5728\uFF09</li><li>\u503C\u4E3A\u6587\u4EF6\u76F8\u5BF9\u8DEF\u5F84\uFF0C\u5C06\u67E5\u627E <code>dir</code> \u4E0B\u7684\u8BE5\u6587\u4EF6</li><li>\u503C\u4E3A true\uFF0C\u5C06\u67E5\u627E <code>dir</code> \u4E0B\u7684 <code>404.html</code> \u6587\u4EF6</li></ul><h4 id="method" tabindex="-1"><a class="header-anchor" href="#method" aria-hidden="true">#</a> method</h4><p>\u5141\u8BB8\u7684\u8BBF\u95EE\u65B9\u6CD5\uFF0C\u53EF\u4EE5\u4E3A\u5B57\u7B26\u4E32 <code>GET</code>, <code>POST</code> \u7B49\u8BBF\u95EE\u65B9\u6CD5\uFF0C\u4E5F\u53EF\u4EE5\u4E3A\u6570\u7EC4 <code>[&#39;GET&#39;, &#39;POST&#39;, &#39;...&#39;]</code></p><p>\u4E0D\u8BBE\u7F6E\u5C06\u4E0E <code>GET</code> \u6548\u679C\u76F8\u540C</p><p>\u5982\u679C\u503C\u4E3A <code>ANY</code> \u6216[&#39;ANY&#39;] \uFF0C\u5C06\u5141\u8BB8\u4EFB\u4F55\u8BBF\u95EE\u65B9\u6CD5</p><h2 id="\u5339\u914D\u6587\u4EF6" tabindex="-1"><a class="header-anchor" href="#\u5339\u914D\u6587\u4EF6" aria-hidden="true">#</a> \u5339\u914D\u6587\u4EF6</h2><p><code>@ipare/static</code> \u4E5F\u53EF\u4EE5\u6307\u5B9A\u5355\u4E2A\u6587\u4EF6\uFF0C<code>useStatic</code> \u63A5\u6536\u914D\u7F6E\u53C2\u6570\u5305\u542B\u4EE5\u4E0B\u53C2\u6570</p><h3 id="file" tabindex="-1"><a class="header-anchor" href="#file" aria-hidden="true">#</a> file</h3><p>\u6307\u5B9A\u6587\u4EF6\u7684\u76F8\u5BF9\u8DEF\u5F84</p><h3 id="reqpath" tabindex="-1"><a class="header-anchor" href="#reqpath" aria-hidden="true">#</a> reqPath</h3><p>\u6307\u5B9A\u8BBF\u95EE\u8DEF\u5F84\uFF0C\u5982\u679C\u4E0D\u8BBE\u7F6E\u5C06\u4E0E <code>file</code> \u53C2\u6570\u76F8\u540C</p><h3 id="encoding-1" tabindex="-1"><a class="header-anchor" href="#encoding-1" aria-hidden="true">#</a> encoding</h3><p>\u4E0E <code>\u5339\u914D\u6587\u4EF6\u5939</code> \u4E2D\u7684\u53C2\u6570\u76F8\u540C</p><h3 id="method-1" tabindex="-1"><a class="header-anchor" href="#method-1" aria-hidden="true">#</a> method</h3><p>\u4E0E <code>\u5339\u914D\u6587\u4EF6\u5939</code> \u4E2D\u7684\u53C2\u6570\u76F8\u540C</p><h2 id="bag" tabindex="-1"><a class="header-anchor" href="#bag" aria-hidden="true">#</a> bag</h2><p>\u5982\u679C\u6210\u529F\u627E\u5230\u6587\u4EF6\uFF0C\u5C06\u5728 <code>ctx.bag</code> \u4E2D\u6CE8\u5165</p><blockquote><p><code>STATIC_FILE</code>: \u6587\u4EF6\u76F8\u5BF9\u8DEF\u5F84</p></blockquote><p>\u5982\u679C\u6839\u636E\u914D\u7F6E\u4E2D\u7684 <code>file404</code> \u627E\u5230\u7684 404 \u6587\u4EF6\uFF0C\u5C06\u5728 <code>ctx.bag</code> \u4E2D\u52A0\u5165</p><blockquote><p><code>STATIC_FILE</code>: \u6587\u4EF6\u76F8\u5BF9\u8DEF\u5F84 <code>STATIC_FILE_404</code>: \u503C\u4E3A <code>true</code></p></blockquote>`,48),t=[r];function o(n,s){return d(),a("div",null,t)}var l=e(c,[["render",o],["__file","static.html.vue"]]);export{l as default};
